{"version":3,"sources":["webpack:///./js/header.js","webpack:///./js/get-refs.js","webpack:///./js/footer.js","webpack:///./js/api/moviesApi.js","webpack:///./js/api/settings.js","webpack:///./js/render-card.js","webpack:///./templates/header.hbs","webpack:///./templates/footer.hbs"],"names":["markup","refs","bodyRef","document","querySelector","headerTplt","insertAdjacentHTML","footerItemsRef","footer","footerTmp","API_KEY","BASE_URL","this","searchQuery","mediaType","timeWindow","_movieId","page","genres","init","console","log","getGenres","fetch","url","response","ok","status","json","getPopularMovies","popularMovies","getById","movie","getMoviesByQuery","movies","renderGalery","renderModal","getPage","valuePage","incrementPage","decrementPage","resetPage","newQuery","newId","Handlebars","module","exports","template","container","depth0","helpers","partials","data"],"mappings":"8JAGA,IAGQA,EAHFC,ECFG,CACLC,QAASC,SAASC,cAAc,SDI5BJ,EAASK,MAEfJ,EAAKC,QAAQI,mBAAmB,aAAcN,G,IELxCO,EACAC,E,qBADAD,EAAiBJ,SAASC,cAAc,QACxCI,EAASC,MACfF,EAAeD,mBAAmB,YAAaE,G,8gBCJzCE,ECGG,mCDHMC,ECEL,+BCFM,I,WFEhB,aACEC,KAAKC,YAAc,GACnBD,KAAKE,UAAY,QACjBF,KAAKG,WAAa,MAClBH,KAAKI,SAAW,GAChBJ,KAAKK,KAAO,EACZL,KAAKM,OAAS,GACdN,KAAKO,O,iCAmBPA,KAAA,WACEC,QAAQC,IAAI,sBACZT,KAAKU,a,EAGDC,M,0JAAN,WAAYC,GAAZ,sGACyBD,MAAMC,GAD/B,WACQC,EADR,QAEgBC,GAFhB,sBAE0BD,EAASE,OAFnC,uBAGeF,EAASG,OAHxB,mF,yDAMMN,U,4CAAN,8GACQE,EAASb,EADjB,6BACsDD,EADtD,2BAE2BE,KAAKW,MAAMC,GAFtC,uBAEUN,EAFV,EAEUA,OACRN,KAAKM,OAASA,EACdE,QAAQC,IAAI,0BAA2BH,GAJzC,kBAKSA,GALT,gD,uDAQMW,iB,4CAAN,wGACQL,EAASb,EADjB,aACsCC,KAAKE,UAD3C,IACwDF,KAAKG,WAD7D,YACmFL,EADnF,SACmGE,KAAKK,KACpF,IAAdL,KAAKK,KAFX,iEAG8BL,KAAKW,MAAMC,GAHzC,cAGQM,EAHR,OAIEV,QAAQC,IAAI,uCAAwCS,GAJtD,kBAKSA,GALT,gD,uDAQMC,Q,4CAAN,4GACQP,EAASb,EADjB,UACmCC,KAAKI,SADxC,YAC4DN,EAD5D,wBAC2FE,KAAKK,KADhG,SAEsBL,KAAKW,MAAMC,GAFjC,cAEQQ,EAFR,OAGEZ,QAAQC,IAAI,iCAAkCW,GAHhD,kBAISA,GAJT,gD,uDAOMC,iB,4CAAN,4GAEQT,EAASb,EAFjB,yBAEkDD,EAFlD,yBAEkFE,KAAKC,YAFvF,SAE2GD,KAAKK,KAFhH,gCAIuBL,KAAKW,MAAMC,GAJlC,cAIQU,EAJR,OAKEd,QAAQC,IAAI,sCAAuCa,GALrD,kBAMSA,GANT,gD,uDASAC,aAAA,a,EAEAC,YAAA,a,EAEAC,QAAA,SAAQC,GACN1B,KAAKK,KAAOqB,G,EAGdC,cAAA,WACE3B,KAAKK,MAAQ,G,EAGfuB,cAAA,WACoB,IAAd5B,KAAKK,OACTL,KAAKK,MAAQ,I,EAGfwB,UAAA,WACE7B,KAAKK,KAAO,G,yBA7Ed,WACE,OAAOL,KAAKC,a,IAGd,SAAU6B,GACR9B,KAAKC,YAAc6B,I,mBAGrB,WACE,OAAO9B,KAAKI,U,IAGd,SAAY2B,GACV/B,KAAKI,SAAW2B,O,uDG1BpB,IAAIC,EAAa,EAAQ,QAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAYG,SAAS,CAAC,SAAW,CAAC,EAAE,YAAY,KAAO,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GACzI,MAAO,6iHACT,SAAU,K,qBCJZ,IAAIR,EAAa,EAAQ,QAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAYG,SAAS,CAAC,SAAW,CAAC,EAAE,YAAY,KAAO,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GACzI,MAAO,+VACT,SAAU,M","file":"main.2c70f609d3775f5128e2.js","sourcesContent":["import headerTplt from '../templates/header.hbs';\nimport getRefs from '../js/get-refs';\n\nconst refs = getRefs();\n\nfunction addHeader() {\n  const markup = headerTplt();\n\n  refs.bodyRef.insertAdjacentHTML('afterbegin', markup);\n}\n\naddHeader();\n","export default function getRefs() {\n  return {\n    bodyRef: document.querySelector('body'),\n    // searchForm: document.getElementById('search-form'),\n    // gallery: document.querySelector('.gallery'),\n  };\n}\n","import footerTmp from '../templates/footer.hbs';\n\nfunction createFooter() {\n  const footerItemsRef = document.querySelector('body');\n  const footer = footerTmp();\n  footerItemsRef.insertAdjacentHTML('beforeend', footer);\n}\n\ncreateFooter();\n","import settings from './settings';\nconst { API_KEY, BASE_URL } = settings;\nexport default class MoviesApi {\n  constructor() {\n    this.searchQuery = '';\n    this.mediaType = 'movie';\n    this.timeWindow = 'day';\n    this._movieId = '';\n    this.page = 1;\n    this.genres = [];\n    this.init();\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n\n  get movieId() {\n    return this._movieId;\n  }\n\n  set movieId(newId) {\n    this._movieId = newId;\n  }\n\n  init() {\n    console.log('Стартовая загрузка');\n    this.getGenres();\n  }\n\n  async fetch(url) {\n    const response = await fetch(url);\n    if (!response.ok) throw response.status;\n    return await response.json();\n  }\n\n  async getGenres() {\n    const url = `${BASE_URL}/genre/movie/list?api_key=${API_KEY}&language=en-US`;\n    const { genres } = await this.fetch(url);\n    this.genres = genres;\n    console.log('возращает массив жанров', genres);\n    return genres;\n  }\n\n  async getPopularMovies() {\n    const url = `${BASE_URL}/trending/${this.mediaType}/${this.timeWindow}?api_key=${API_KEY}&page=${this.page}`;\n    if (this.page === 0) return;\n    const popularMovies = await this.fetch(url);\n    console.log('возвращает массив популярных фильмов', popularMovies);\n    return popularMovies;\n  }\n\n  async getById() {\n    const url = `${BASE_URL}/movie/${this._movieId}?api_key=${API_KEY}&language=en-US&page=${this.page}`;\n    const movie = await this.fetch(url);\n    console.log('возвращает объект фильма по id', movie);\n    return movie;\n  }\n\n  async getMoviesByQuery() {\n    // this.searchQuery = query;\n    const url = `${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&query=${this.searchQuery}&page=${this.page}&include_adult=false`;\n    /* if (this.searchQuery === '') return; */\n    const movies = await this.fetch(url);\n    console.log('возвращает массив фильмов по поиску', movies);\n    return movies;\n  }\n\n  renderGalery() {}\n\n  renderModal() {}\n\n  getPage(valuePage) {\n    this.page = valuePage;\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  decrementPage() {\n    if (this.page === 1) return;\n    this.page -= 1;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n}\n","// TODO проверить url!\n\nexport default {\n  BASE_URL: 'https://api.themoviedb.org/3',\n  API_KEY: '4b778d4c29fb731b86ff7a9149d1de58',\n};","import MoviesApi from './api/moviesApi';\nconst moviesApi = new MoviesApi();\n\nexport default moviesApi;\n\n// // примеры использования\n// // импорт: import moviesApi from './js/render-card';\n// // (внимание: относительный путь)\n\n// // получить массив жанров\n// apiMovie.getGenres();\n\n// // получить полулярные на сегодня\n// apiMovie.getPopularMovies();\n\n// // получить фильм по id\n// apiMovie.movieId = 67;\n// apiMovie.getById();\n\n// // поиск по ключевому слову\n// const queryFromInput = 'Odessa';\n// apiMovie.searchQuery = queryFromInput;\n// apiMovie.getMoviesByQuery();\n\n// // получить данные для рендера модалки\n// async function getDate() {\n//   moviesApi.movieId = 67;\n//   const { title, release_date } = await moviesApi.getById();\n//   console.log(moviesApi.genres);\n//   console.log(title, release_date);\n// }\n// getDate();\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<header class=\\\"header\\\">\\n\\n  <div class=\\\"header-content-wrapper container\\\">\\n\\n    <div class=\\\"header-nav\\\">\\n\\n      <div class=\\\"header-logo-wrapper\\\">\\n\\n        <svg class=\\\"header-logo-svg\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n          width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 32 32\\\">\\n          <title>film</title>\\n          <path fill=\\\"\\\" stroke-linejoin=\\\"round\\\" stroke-linecap=\\\"round\\\"\\n            stroke-miterlimit=\\\"4\\\" stroke-width=\\\"2.6667\\\" stroke=\\\"#818181\\\"\\n            d=\\\"M26.427 2.667h-20.853c-1.605 0-2.907 1.301-2.907 2.907v20.853c0 1.605 1.301 2.907 2.907 2.907h20.853c1.605 0 2.907-1.301 2.907-2.907v-20.853c0-1.605-1.301-2.907-2.907-2.907z\\\">\\n          </path>\\n          <path fill=\\\"none\\\" stroke-linejoin=\\\"round\\\" stroke-linecap=\\\"round\\\"\\n            stroke-miterlimit=\\\"4\\\" stroke-width=\\\"2.6667\\\" stroke=\\\"#818181\\\"\\n            d=\\\"M9.333 2.667v26.667\\\"></path>\\n          <path fill=\\\"none\\\" stroke-linejoin=\\\"round\\\" stroke-linecap=\\\"round\\\"\\n            stroke-miterlimit=\\\"4\\\" stroke-width=\\\"2.6667\\\" stroke=\\\"#818181\\\"\\n            d=\\\"M22.667 2.667v26.667\\\"></path>\\n          <path fill=\\\"none\\\" stroke-linejoin=\\\"round\\\" stroke-linecap=\\\"round\\\"\\n            stroke-miterlimit=\\\"4\\\" stroke-width=\\\"2.6667\\\" stroke=\\\"#818181\\\"\\n            d=\\\"M2.667 16h26.667\\\"></path>\\n          <path fill=\\\"none\\\" stroke-linejoin=\\\"round\\\" stroke-linecap=\\\"round\\\"\\n            stroke-miterlimit=\\\"4\\\" stroke-width=\\\"2.6667\\\" stroke=\\\"#818181\\\"\\n            d=\\\"M2.667 9.333h6.667\\\"></path>\\n          <path fill=none\\\" stroke-linejoin=\\\"round\\\" stroke-linecap=\\\"round\\\"\\n            stroke-miterlimit=\\\"4\\\" stroke-width=\\\"2.6667\\\" stroke=\\\"#818181\\\"\\n            d=\\\"M2.667 22.667h6.667\\\"></path>\\n          <path fill=\\\"none\\\" stroke-linejoin=\\\"round\\\" stroke-linecap=\\\"round\\\"\\n            stroke-miterlimit=\\\"4\\\" stroke-width=\\\"2.6667\\\" stroke=\\\"#818181\\\"\\n            d=\\\"M22.667 22.667h6.667\\\"></path>\\n          <path fill=\\\"none\\\" stroke-linejoin=\\\"round\\\" stroke-linecap=\\\"round\\\"\\n            stroke-miterlimit=\\\"4\\\" stroke-width=\\\"2.6667\\\" stroke=\\\"#818181\\\"\\n            d=\\\"M22.667 9.333h6.667\\\"></path>\\n        </svg>\\n\\n        <span class=\\\"header-logo-title\\\">Filmoteka</span>\\n\\n      </div>\\n      <ul class=\\\"header-list\\\">\\n        <li class=\\\"header-list-item current-page current-page-js\\\">Home</li>\\n        <li class=\\\"header-list-item\\\">My library</li>\\n      </ul>\\n\\n    </div>\\n\\n    <form class=\\\"search-form\\\" id=\\\"search-form\\\">\\n      <label class=\\\"header-form\\\" for=\\\"query\\\">\\n\\n        <input id=\\\"query\\\" class=\\\"header-input\\\" type=\\\"search\\\"\\n          placeholder=\\\"Поиск фильмов\\\" /></form>\\n\\n\\n\\n    <svg class=\\\"header-search-svg\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n      width=\\\"12\\\" height=\\\"12\\\" viewBox=\\\"0 0 32 32\\\">\\n      <title>search</title>\\n      <path fill=\\\"none\\\" stroke-linejoin=\\\"round\\\" stroke-linecap=\\\"round\\\"\\n        stroke-miterlimit=\\\"4\\\" stroke-width=\\\"2.6667\\\" stroke=\\\" #ffffff\\\"\\n        d=\\\"M14.667 25.333c5.891 0 10.667-4.776 10.667-10.667s-4.776-10.667-10.667-10.667c-5.891 0-10.667 4.776-10.667 10.667s4.776 10.667 10.667 10.667z\\\">\\n      </path>\\n      <path fill=\\\"none\\\" stroke-linejoin=\\\"round\\\" stroke-linecap=\\\"round\\\"\\n        stroke-miterlimit=\\\"4\\\" stroke-width=\\\"2.6667\\\" stroke=\\\" #ffffff\\\"\\n        d=\\\"M28 28.001l-5.8-5.8\\\"></path>\\n    </svg>\\n\\n    </label>\\n\\n    <div class=\\\"wrapper-btn-header\\\">\\n      <button class=\\\"btn btn-header btn-active-page\\\" type=\\\"button\\\">\\n        Watched\\n      </button>\\n      <button class=\\\"btn btn-header\\\" type=\\\"button\\\">queue</button>\\n    </div>\\n\\n    <span class=\\\"header-notification visually-hidden\\\">Search result not successful. Enter\\n      the correct movie name and try again</span>\\n\\n  </div>\\n\\n</header>\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<footer class=\\\"footer\\\">\\n    <div class=\\\"container footer-wraper\\\">\\n\\n        <span class=\\\"footer-text\\\">© 2020 | All Rights Reserved |&nbsp\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n        </span>\\n        <span class=\\\"students-link footer-text\\\">Developed with by <a href=\\\"\\\" class=\\\"footer-text\\\">GoIT\\n                Students</a></span>\\n\\n    </div>\\n</footer>\";\n},\"useData\":true});"],"sourceRoot":""}