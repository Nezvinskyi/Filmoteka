(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"0HMw":function(e,t,n){},"1Ccy":function(e,t){},"1ROM":function(e,t,n){var a=n("vy/h"),r=n("rP1I"),o=n("VX1f"),i=n("ayCn"),s=n("nYF8"),l=n("8+u2"),c=n("Sanw"),u=n("9JNX"),d=n("CEKJ"),p=n("lpcX"),h='<div class="backdrop-open"> <div class="modal-team"> <div class="team-modal-btn-close_container"> <button class="modal-btn-close" type="button"> <svg class="close-svg" width="100%" height="100%" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M8 8L22 22" stroke="black" stroke-width="2"/> <path d="M8 22L22 8" stroke="black" stroke-width="2"/> </svg> </button> </div> <div class="team-modal-container"> <ul class="team-modal-list"> <li class="teamlead-modal-item"> <img src="'+a(r)+'" alt="foto of teamlead Dmitry" width="100" class="workers-photo"/> <div class="name-description"> <h3 class="management-list-subtitle">Dmitry</h3> <p lang="en" class="management-list-description">Team lead</p> </div> </li> <li class="team-modal-item"> <img src="'+a(o)+'" alt="foto of scrum master Katerina" width="100" class="workers-photo"/> <div class="name-description"> <h3 class="management-list-subtitle">Katerina</h3> <p lang="en" class="management-list-description">Scrum Master</p> </div> </li> <li class="team-modal-item"> <img src="'+a(i)+'" alt="foto of developer Yaroslav" width="100" class="workers-photo"/> <div class="name-description"> <h3 class="management-list-subtitle">Yaroslav</h3> <p lang="en" class="management-list-description">Developer</p> </div> </li> <li class="team-modal-item"> <img src="'+a(s)+'" alt="foto of developer Andrey" width="100" class="workers-photo"/> <div class="name-description"> <h3 class="management-list-subtitle">Andrey</h3> <p lang="en" class="management-list-description">Developer</p> </div> </li> <li class="team-modal-item"> <img src="'+a(l)+'" alt="foto of developer Yana" width="100" class="workers-photo"/> <div class="name-description"> <h3 class="management-list-subtitle">Yana</h3> <p lang="en" class="management-list-description">Developer</p> </div> </li> <li class="team-modal-item"> <img src="'+a(c)+'" alt="foto of developer Pavel" width="100" class="workers-photo"/> <div class="name-description"> <h3 class="management-list-subtitle">Pavel</h3> <p lang="en" class="management-list-description">Developer</p> </div> </li> <li class="team-modal-item"> <img src="'+a(u)+'" alt="foto of developer Andrey" width="100" class="workers-photo"/> <div class="name-description"> <h3 class="management-list-subtitle">Andrey</h3> <p lang="en" class="management-list-description">Developer</p> </div> </li> <li class="team-modal-item"> <img src="'+a(d)+'" alt="foto of developer Denis" width="100" class="workers-photo"/> <div class="name-description"> <h3 class="management-list-subtitle">Denis</h3> <p lang="en" class="management-list-description">Developer</p> </div> </li> <li class="team-modal-item"> <img src="'+a(p)+'" alt="foto of developer Vitaliy" width="100" class="workers-photo"/> <div class="name-description"> <h3 class="management-list-subtitle">Vitaly</h3> <p lang="en" class="management-list-description">Developer</p> </div> </li> </ul> </div> </div> </div> ';e.exports=h},"8+u2":function(e,t,n){e.exports=n.p+"images/team-images/yana_guzienko.jpg"},"9JNX":function(e,t,n){e.exports=n.p+"images/team-images/andrii_torkotiuk.jpg"},CEKJ:function(e,t,n){e.exports=n.p+"images/team-images/denys_tomenko.jpg"},GWpg:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,r){return'<div class="loader">\n  <div class="loader__container loader_inner">\n    <img class="loader__film-img" src="https://i.imgur.com/m2u9S8M.png" alt="" />\n  </div>\n</div>'},useData:!0})},IQoZ:function(e,t,n){var a='<div class="modal-reg"> <div class="modal-reg-btn-close_container"> <button class="auth-modal-btn-close modal-btn-close" type="reset" data-modal-close> <svg class="close-svg" width="100%" height="100%" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M8 8L22 22" stroke="black" stroke-width="2"/> <path d="M8 22L22 8" stroke="black" stroke-width="2"/> </svg> </button> </div> <div class="container-reg-modal"> <div class="card"> <div class="input-wrapper"> <form class="card-form auth-form"> <div class="reg-logo-wrapper"> <img class="reg-img" src="'+n("vy/h")(n("V20V"))+'" alt="site logo"> <h3 class="reg-title-logo">Filmoteka </h3></div> <h2 class="reg-title-main">Sign in or Register</h2> <div class="input"> <input type="email" class="input-field auth-form-input" id="auth-form-input-email" name="email" autocomplete="off" required/> <label class="input-label">Email</label> </div> <div class="input"> <input type="password" class="input-field" id="auth-form-input-password" name="password" autocomplete="off" required/> <label class="input-label">Password (min 6 characters) </label> </div> <div class="auth-btn-wrapper"> <button class="auth-btn auth-modal-btn-signin btn" type="button"> Sign in </button> <button class="auth-btn auth-modal-btn-signup btn" type="button"> Register </button> </div> </form> </div> </div> </div> </div> ';e.exports=a},JkYF:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,r){var o,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<iframe class="modal-video" id="ytplayer" type="text/html" src="'+e.escapeExpression("function"==typeof(o=null!=(o=i(n,"keyVideo")||(null!=t?i(t,"keyVideo"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"keyVideo",hash:{},data:r,loc:{start:{line:2,column:64},end:{line:2,column:76}}}):o)+'" frameborder="0" />\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,r){var o;return null!=(o=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:3,column:9}}}))?o:""},useData:!0})},MJe1:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,r){var o,i=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="card-film">\n\t<picture>\n\t\t<source srcset="'+c(typeof(o=null!=(o=u(n,"imgSrc")||(null!=t?u(t,"imgSrc"):t))?o:s)===l?o.call(i,{name:"imgSrc",hash:{},data:r,loc:{start:{line:3,column:18},end:{line:3,column:28}}}):o)+'" type="image/jpg">\n\t\t<img class="card-img" src="'+c(typeof(o=null!=(o=u(n,"noPoster")||(null!=t?u(t,"noPoster"):t))?o:s)===l?o.call(i,{name:"noPoster",hash:{},data:r,loc:{start:{line:4,column:29},end:{line:4,column:41}}}):o)+'" alt="poster of '+c(typeof(o=null!=(o=u(n,"title")||(null!=t?u(t,"title"):t))?o:s)===l?o.call(i,{name:"title",hash:{},data:r,loc:{start:{line:4,column:58},end:{line:4,column:67}}}):o)+' film" data-id="'+c(typeof(o=null!=(o=u(n,"id")||(null!=t?u(t,"id"):t))?o:s)===l?o.call(i,{name:"id",hash:{},data:r,loc:{start:{line:4,column:83},end:{line:4,column:89}}}):o)+'">\n\t</picture>\n\t<h2 class="card-title">'+c(typeof(o=null!=(o=u(n,"title")||(null!=t?u(t,"title"):t))?o:s)===l?o.call(i,{name:"title",hash:{},data:r,loc:{start:{line:6,column:24},end:{line:6,column:33}}}):o)+'</h2>\n\t<div class="card-info">\n\t\t<span class="genre-id" data-search="ok" data-id="'+c(typeof(o=null!=(o=u(n,"genreIdFirst")||(null!=t?u(t,"genreIdFirst"):t))?o:s)===l?o.call(i,{name:"genreIdFirst",hash:{},data:r,loc:{start:{line:8,column:51},end:{line:8,column:67}}}):o)+'">'+c(typeof(o=null!=(o=u(n,"genresFirst")||(null!=t?u(t,"genresFirst"):t))?o:s)===l?o.call(i,{name:"genresFirst",hash:{},data:r,loc:{start:{line:8,column:69},end:{line:8,column:84}}}):o)+'</span>\n\t\t<span class="genre-id" data-search="ok" data-id="'+c(typeof(o=null!=(o=u(n,"genreIdSecond")||(null!=t?u(t,"genreIdSecond"):t))?o:s)===l?o.call(i,{name:"genreIdSecond",hash:{},data:r,loc:{start:{line:9,column:51},end:{line:9,column:68}}}):o)+'">'+c(typeof(o=null!=(o=u(n,"genresSecond")||(null!=t?u(t,"genresSecond"):t))?o:s)===l?o.call(i,{name:"genresSecond",hash:{},data:r,loc:{start:{line:9,column:70},end:{line:9,column:86}}}):o)+'</span>\n\t\t<span class="genre-id" data-search="ok" data-id="'+c(typeof(o=null!=(o=u(n,"genreIdThird")||(null!=t?u(t,"genreIdThird"):t))?o:s)===l?o.call(i,{name:"genreIdThird",hash:{},data:r,loc:{start:{line:10,column:51},end:{line:10,column:67}}}):o)+'">'+c(typeof(o=null!=(o=u(n,"genresThird")||(null!=t?u(t,"genresThird"):t))?o:s)===l?o.call(i,{name:"genresThird",hash:{},data:r,loc:{start:{line:10,column:69},end:{line:10,column:84}}}):o)+'</span>\n\t\t<p class="card-symb">|</p>\n\t\t<p class="film-date genre-id" data-set="releaseDate">'+c(typeof(o=null!=(o=u(n,"releaseDate")||(null!=t?u(t,"releaseDate"):t))?o:s)===l?o.call(i,{name:"releaseDate",hash:{},data:r,loc:{start:{line:13,column:55},end:{line:13,column:70}}}):o)+'</p>\n\t\t<div class="card-raiting">\n\t\t\t<p class="film-raiting">'+c(typeof(o=null!=(o=u(n,"voteAverage")||(null!=t?u(t,"voteAverage"):t))?o:s)===l?o.call(i,{name:"voteAverage",hash:{},data:r,loc:{start:{line:15,column:27},end:{line:15,column:42}}}):o)+"</p>\n\t\t</div>\n\t</div>\n\n</li>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,r){var o;return null!=(o=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:19,column:14}}}))?o:""},useData:!0})},QfWi:function(e,t,n){"use strict";n.r(t);n("0HMw");var a=n("oRt2"),r=n.n(a);function o(){return{bodyRef:document.querySelector("body"),header:document.querySelector(".header"),pagesNav:document.querySelector(".header-nav"),homeNav:document.querySelector(".home-page-js"),libNav:document.querySelector(".library-page-js"),searchForm:document.getElementById("search-form"),headerBtnWrapper:document.querySelector(".wrapper-btn-header"),teamModal:document.querySelector(".modal-team-js"),loader:document.querySelector(".loader"),btnWatched:document.querySelector(".js-watched"),btnQueue:document.querySelector(".js-queue"),scrollUpEl:document.getElementById("scrollToTop"),pagination:document.querySelector(".pagination-js"),teamModalClose:document.querySelector(".modal-team-close-button"),authorisationBtn:document.querySelector(".authorisation-btn"),logInBtn:document.querySelector("#log-in"),logOutBtn:document.querySelector("#log-out")}}n("3dw1"),n("IlJM"),n("D/wG"),n("WB5j"),n("aZFp"),n("Muwe"),n("Xlt+"),n("8cZI"),n("ZEAQ");var i=n("sn0T"),s={BASE_URL:"https://api.themoviedb.org/3",API_KEY:"4b778d4c29fb731b86ff7a9149d1de58",POSTER_URL:"https://image.tmdb.org/t/p/w400",NOPOSTER_URL:n.n(i).a,DB_AUTH_URL:"https://identitytoolkit.googleapis.com/v1/accounts:",DB_API:"AIzaSyDn53btmBJPZDSPSp5tBFxkSuER-mlWeuM",DB_URL:"https://filmoteka-blended2-default-rtdb.firebaseio.com"},l=(n("JBxO"),n("9UJh"),n("FdtR"),n("wcNg"),n("Np6Y"));function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var u=new(n.n(l).a.SearchPaginator)({prelink:"/",current:1,rowsPerPage:20,totalResult:20});document.querySelector(".footer").insertAdjacentHTML("beforebegin",'<div class="pagination-container container pagination-js"><p>testjkshgdbfkjabsd,fjbasdf</p></div>');var d=new(function(){function e(){this._page=1}var t,n,a,r=e.prototype;return r.increment=function(){this.page++},r.decrement=function(){this.page--},t=e,(n=[{key:"page",get:function(){return this._page},set:function(e){this._page=e}}])&&c(t.prototype,n),a&&c(t,a),e}());function p(e,t,n,a,r,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(a,r)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){p(o,a,r,i,s,"next",e)}function s(e){p(o,a,r,i,s,"throw",e)}i(void 0)}))}}function m(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var g=s.API_KEY,f=s.BASE_URL,v=new(function(){function e(){this.searchQuery="",this.mediaType="movie",this.timeWindow="day",this._movieId="",this.page=1,this.genres=[],this._searchYear=null,this._searchGenre="",this.videoId=0,this._fetchMethod="popular",this.init()}var t,n,a,r=e.prototype;return r.init=function(){var e=h(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getGenres();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.getRefs=function(){var e={};return e.gallery=document.querySelector(".gallery-js"),e.header=document.querySelector(".header"),e.divContainer=document.querySelector("div[data-cont]"),e.listGenreModal=document.querySelector("#genre-search-container"),e.divModalVideo=document.querySelector("#modal-youtube"),e},r.fetch=function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=h(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:if((n=e.sent).ok){e.next=6;break}throw n.status;case 6:return e.next=8,n.json();case 8:return e.abrupt("return",e.sent);case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()),r.getSearchYear=function(){var e=h(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f+"/discover/movie?api_key="+g+"&language=en-US&include_adult=false&include_video=false&primary_release_year="+this._searchYear+"&page="+d.page,e.next=3,this.fetch(t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.getSearchGenres=function(){var e=h(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f+"/discover/movie?api_key="+g+"&language=en-US&include_adult=false&include_video=false&with_genres="+this._searchGenre+"&page="+d.page,e.next=3,this.fetch(t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.getByVideo=function(){var e=h(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.videoId=t,n=f+"/movie/"+this.videoId+"/videos?api_key="+g+"&language=en-US",e.next=4,this.fetch(n);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r.getGenres=function(){var e=h(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f+"/genre/movie/list?api_key="+g+"&language=en-US",e.next=3,this.fetch(t);case 3:return n=e.sent,a=n.genres,this.genres=a,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.getPopularMovies=function(){var e=h(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f+"/trending/"+this.mediaType+"/"+this.timeWindow+"?api_key="+g+"&page="+d.page,0!==this.page){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.fetch(t);case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.getById=function(){var e=h(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f+"/movie/"+this._movieId+"?api_key="+g+"&language=en-US&page="+this.page,e.next=3,this.fetch(t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.getMoviesByQuery=function(){var e=h(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f+"/search/movie?api_key="+g+"&language=en-US&query="+this.searchQuery+"&page="+d.page+"&include_adult=false",e.next=3,this.fetch(t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t=e,(n=[{key:"query",get:function(){return this.searchQuery},set:function(e){this.searchQuery=e}},{key:"movieId",get:function(){return this._movieId},set:function(e){this._movieId=e}},{key:"fetchMethod",get:function(){return this._fetchMethod},set:function(e){this._fetchMethod=e}},{key:"searchGenre",get:function(){return this._searchGenre},set:function(e){this._searchGenre=e}},{key:"searchYear",get:function(){return this._searchYear},set:function(e){this._searchYear=e}}])&&m(t.prototype,n),a&&m(t,a),e}()),y=s.POSTER_URL,b=s.NOPOSTER_URL,w=function(e){return null===e?""+b:y+"/"+e},k=function(e){return new Date(e).getFullYear()};function S(e){return"https://www.youtube.com/embed/"+e+"?autoplay=1&origin"}function L(e){var t=[];return e.forEach((function(e){var n=v.genres.find((function(t){return t.id===e}));t.push(n.name)})),t.slice(0,3)}function x(e){var t=[];return e.forEach((function(e){return t.push(e.name)})),t}function I(e){var t=[];return e.forEach((function(e){return t.push(e.id)})),t}function _(e){return e.toFixed(1)}var A=function(e){return{keyVideo:S(e.key)}},R=function(e){var t=e.poster_path,n=e.title,a=e.vote_average,r=e.vote_count,o=e.popularity,i=e.genres,s=e.overview,l=e.release_date,c=e.id;return{imgSrc:w(t),title:n,voteAverage:a,voteCount:r,popularity:_(o),genresFirst:x(i)[0],genresSecond:x(i)[1],genresThird:x(i)[2],genreIdFirst:I(i)[0],genreIdSecond:I(i)[1],genreIdThird:I(i)[2],overview:s,releaseDate:k(l),id:c}},E=(n("MJe1"),n("GWpg")),j=n.n(E);o();function q(){o().loader.classList.add("visually-hidden")}function M(){o().loader.classList.remove("visually-hidden")}var T=n("eKtR"),D=(n("IyDa"),new T.a({duration:3e3,position:{x:"center",y:"top"},types:[{type:"warning",background:"#ff6b08",icon:{className:"material-icons",tagName:"i",text:"warning",color:"white"},dismissible:!0},{type:"error",background:"#FF001B",dismissible:!0},{type:"info",background:"#13c230",icon:{className:"material-icons",tagName:"i",text:"info",color:"white"},dismissible:!0}]}));function P(e){D.open({type:"warning",message:e})}function O(e){D.open({type:"error",message:e})}function B(e){D.open({type:"info",message:e})}var U,N=o();j()();U=r()(),N.bodyRef.insertAdjacentHTML("afterbegin",U),(N=o()).scrollUpEl.addEventListener("click",(function(){window.scrollTo({top:0,left:0,behavior:"smooth"})})),window.addEventListener("scroll",(function(){pageYOffset>250?N.scrollUpEl.style.opacity="1":N.scrollUpEl.style.opacity="0"}));var C,W,F=n("yIDU"),Q=n.n(F);C=document.querySelector("body"),W=Q()(),C.insertAdjacentHTML("beforeend",W);n("1Ccy");var Y=n("s9S4"),H=n.n(Y),G=(n("lmye"),n("X5mX"),n("SUr3"),n("IvQZ"),n("4NM0"),n("SgDD"),n("w3aI")),J=n.n(G),V=(n("zSSO"),n("IQoZ")),X=n.n(V);function Z(e,t,n,a,r,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(a,r)}var z=s.DB_AUTH_URL,K=s.DB_API,$=new(function(){function e(){this.userId=localStorage.getItem("userId"),this.token=localStorage.getItem("token")}var t=e.prototype;return t.signUp=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){var a,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="",r={email:t,password:n,returnSecureToken:!0},o=z+"signUp?key="+K,e.next=5,fetch(o,{method:"POST",body:JSON.stringify(r),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return a=e.error}));case 5:a?("MISSING_PASSWORD"===a.message&&P("ENTER PASSWORD"),"EMAIL_EXISTS"===a.message&&P("A USER WITH SUCH EMAIL ALREADY EXISTS"),"INVALID_EMAIL"===a.message&&P("WRONG EMAIL"),"WEAK_PASSWORD : Password should be at least 6 characters"===a.message&&P("PASSWORD MUST BE AT LEAST 6 CHARACTERS")):(B("YOU ARE SUCCESSFULLY REGISTERED"),this.signIn(t,n));case 6:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){Z(o,a,r,i,s,"next",e)}function s(e){Z(o,a,r,i,s,"throw",e)}i(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),t.signIn=function(e,t){var n=this,a={email:e,password:t,returnSecureToken:!0};fetch(z+"signInWithPassword?key="+K,{method:"POST",body:JSON.stringify(a),headers:{"Content-type":"application/json"}}).then((function(e){if(e.ok)return document.location.reload(),console.log("закрываю модалку"),e.json()})).then((function(e){e.idToken?(n.token=e.idToken,n.userId=e.localId,localStorage.setItem("token",e.idToken),localStorage.setItem("userId",e.localId),B("YOU HAVE SUCCESSFULLY LOGGED IN"),document.querySelector("#auth-form-input-email").value="",document.querySelector("#auth-form-input-password").value=""):("INVALID_EMAIL"===e.error.message&&P("WRONG EMAIL"),"EMAIL_NOT_FOUND"===e.error.message&&P("YOU ARE NOT REGISTERED"),"INVALID_PASSWORD"===e.error.message&&P("ENTER CORRECT PASSWORD"),"MISSING_PASSWORD"===e.error.message&&P("ENTER PASSWORD"))})).catch((function(e){return console.log("rreer",e)}))},t.openModalAuth=function(){var e=this;He(X.a);var t=document.querySelector(".auth-modal-btn-signin"),n=document.querySelector(".auth-modal-btn-signup"),a=document.querySelector("#auth-form-input-email"),r=document.querySelector("#auth-form-input-password");t.addEventListener("click",(function(){if(""!==a.value||""!==r.value){var t=a.value,n=r.value;e.signIn(t,n)}})),n.addEventListener("click",(function(){if(""!==a.value||""!==r.value){var t=a.value,n=r.value;e.signUp(t,n)}}))},e}());function ee(e,t,n,a,r,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(a,r)}function te(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){ee(o,a,r,i,s,"next",e)}function s(e){ee(o,a,r,i,s,"throw",e)}i(void 0)}))}}var ne=s.DB_URL,ae=new(function(){function e(){this.watched="",this.queue=""}var t=e.prototype;return t.getAllWatchedData=function(){var e=te(regeneratorRuntime.mark((function e(){var t,n,a,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ne+"/users/"+$.userId+"/watched.json?auth="+$.token,n={method:"GET",headers:{"Content-type":"application/json"}},e.next=4,this.fetch(t,n);case 4:if(null!==(a=e.sent)){e.next=7;break}return e.abrupt("return");case 7:return r=Object.entries(a),this.watched=a,o=[],r.forEach((function(e){return o.push(e[1])})),localStorage.setItem("watched_fb",JSON.stringify(o)),e.abrupt("return",o);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.dataWatchedHandler=function(){var e=te(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAllWatchedData();case 2:if(n=Object.entries(this.watched),""!==this.watched&&n.find((function(e){e[0];return e[1].id===t.id}))){e.next=9;break}return this.addToWatched(t),se(),e.abrupt("return",!1);case 9:return a=n.find((function(e){e[0];return e[1].id===t.id}))[0],this.removeFromWatched(a),le(),e.abrupt("return",a);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.addToWatched=function(){var e=te(regeneratorRuntime.mark((function e(t){var n,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ne+"/users/"+$.userId+"/watched.json?auth="+$.token,fetch(n,{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(){return a.getAllWatchedData()}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.removeFromWatched=function(e){var t=this,n=ne+"/users/"+$.userId+"/watched/"+e+".json?auth="+$.token;fetch(n,{method:"DELETE",headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(){return t.getAllWatchedData()}))},t.getAllQueueData=function(){var e=te(regeneratorRuntime.mark((function e(){var t,n,a,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ne+"/users/"+$.userId+"/queue.json?auth="+$.token,n={method:"GET",headers:{"Content-type":"application/json"}},e.next=4,this.fetch(t,n);case 4:if(null!==(a=e.sent)){e.next=7;break}return e.abrupt("return");case 7:return r=Object.entries(a),this.queue=a,o=[],r.forEach((function(e){return o.push(e[1])})),localStorage.setItem("queue_fb",JSON.stringify(o)),e.abrupt("return",o);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.dataQueueHandler=function(){var e=te(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAllQueueData();case 2:if(n=Object.entries(this.queue),""!==this.queue&&n.find((function(e){e[0];return e[1].id===t.id}))){e.next=9;break}return this.addToQueue(t),ce(),e.abrupt("return",!1);case 9:return a=n.find((function(e){e[0];return e[1].id===t.id}))[0],this.removeFromQueue(a),ue(),e.abrupt("return",a);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.addToQueue=function(){var e=te(regeneratorRuntime.mark((function e(t){var n,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ne+"/users/"+$.userId+"/queue.json?auth="+$.token,fetch(n,{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(){return a.getAllQueueData()}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.removeFromQueue=function(e){var t=this,n=ne+"/users/"+$.userId+"/queue/"+e+".json?auth="+$.token;fetch(n,{method:"DELETE",headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(){return t.getAllQueueData()}))},t.fetch=function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=te(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,n);case 3:if((a=e.sent).ok){e.next=6;break}throw a.status;case 6:return e.next=8,a.json();case 8:return e.abrupt("return",e.sent);case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()),e}()),re=o();function oe(e){document.querySelector(".btn-js-addtowatched").addEventListener("click",(function(){$.userId&&"undefined"!==$.userId?(re.libNav.classList.contains("current-page")&&setTimeout(de,2e3),function(e){ae.dataWatchedHandler(e)}(e)):$.openModalAuth()})),function(e){document.querySelector(".btn-js-addtowatched").classList.remove("btn-active-page");var t=JSON.parse(localStorage.getItem("watched_fb"));null!==localStorage.getItem("watched_fb")&&t.map((function(t){if(e.id===t.id){var n=document.querySelector(".btn-js-addtowatched");return n.classList.add("btn-active-page"),void(n.innerHTML="Delete from wached")}}))}(e)}function ie(e){document.querySelector(".btn-js-addtoqueue").addEventListener("click",(function(){$.userId&&"undefined"!==$.userId?(re.libNav.classList.contains("current-page")&&setTimeout(pe,2e3),function(e){ae.dataQueueHandler(e)}(e)):$.openModalAuth()})),function(e){document.querySelector(".btn-js-addtoqueue").classList.remove("btn-active-page");var t=JSON.parse(localStorage.getItem("queue_fb"));null!==localStorage.getItem("queue_fb")&&t.map((function(t){if(e.id===t.id){var n=document.querySelector(".btn-js-addtoqueue");return n.classList.add("btn-active-page"),void(n.innerHTML="Delete from queue")}}))}(e)}function se(){var e=document.querySelector(".btn-js-addtowatched");e.classList.add("btn-active-page"),e.innerHTML="Delete from wached"}function le(){var e=document.querySelector(".btn-js-addtowatched");e.classList.remove("btn-active-page"),e.innerHTML="Add to wached";var t=localStorage.getItem("watched_fb"),n=JSON.parse(t);(null!==localStorage.getItem("watched_fb")||0!==n.length)&&n.length<=1&&localStorage.setItem("watched_fb","[]")}function ce(){var e=document.querySelector(".btn-js-addtoqueue");e.classList.add("btn-active-page"),e.innerHTML="Delete from queue"}function ue(){var e=document.querySelector(".btn-js-addtoqueue");e.classList.remove("btn-active-page"),e.innerHTML="Add to queue";var t=localStorage.getItem("queue_fb"),n=JSON.parse(t);(null!==localStorage.getItem("queue_fb")||0!==n.length)&&n.length<=1&&localStorage.setItem("queue_fb","[]")}function de(){var e=JSON.parse(localStorage.getItem("watched_fb"));if(null===e||0===e.length)return q(),document.querySelector('[data-cont="container"]').innerHTML='<span class="library-inittext"style="text-align: center; display: block; margin-top: 25px">There’s nothing <span class="library-choosetext">in the WATCHED</span>, yet :( You should add something first</span>',re.btnWatched.classList.add("btn-active-page"),void re.btnQueue.classList.remove("btn-active-page");he(e),re.btnWatched.classList.add("btn-active-page"),re.btnQueue.classList.remove("btn-active-page")}function pe(){M();var e=JSON.parse(localStorage.getItem("queue_fb"));if(null===e||0===e.length)return q(),document.querySelector('[data-cont="container"]').innerHTML='<span class="library-inittext"style="text-align: center; display: block; margin-top: 25px">There’s nothing <span class="library-choosetext">in the QUEUE</span>, yet :( You should add something first</span>',re.btnQueue.classList.add("btn-active-page"),void re.btnWatched.classList.remove("btn-active-page");he(e),q(),re.btnQueue.classList.add("btn-active-page"),re.btnWatched.classList.remove("btn-active-page")}function he(e){console.log(">>",e);var t=e.map((function(e){return R(e)}));document.querySelector('[data-cont="container"]').innerHTML=J()(t)}function me(){v.getRefs().gallery.addEventListener("click",ge)}function ge(e){"card-img"===e.target.className&&(v.movieId=e.target.dataset.id,v.getById().then(fe))}function fe(e){!function(e){var t=H()(e),n=e.id;He(t);var a=document.querySelector(".modal-container"),r=document.querySelector(".modal-btn-close_container"),o=document.querySelector("#modal-youtube"),i=document.querySelector("#trailer"),s=document.querySelector("#closeYoutubeModalBtn");i.addEventListener("click",(function(){!function(e){Qe.apply(this,arguments)}(n),a.classList.add("visually-hidden"),r.classList.add("visually-hidden"),o.classList.remove("visually-hidden"),o.classList.add(".is-open")})),s.addEventListener("click",(function(){o.innerHTML="",o.classList.remove(".is-open"),o.classList.add("visually-hidden"),a.classList.remove("visually-hidden"),r.classList.remove("visually-hidden")}))}(R(e)),ie(e),oe(e)}re.btnWatched.addEventListener("click",de),re.btnQueue.addEventListener("click",pe);var ve=n("yD95"),ye=n.n(ve),be=n("SzhR");n("VwVG");function we(e,t,n,a,r,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(a,r)}function ke(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){we(o,a,r,i,s,"next",e)}function s(e){we(o,a,r,i,s,"throw",e)}i(void 0)}))}}be.a.initializeApp({apiKey:"AIzaSyDn53btmBJPZDSPSp5tBFxkSuER-mlWeuM",authDomain:"filmoteka-blended2.firebaseapp.com",projectId:"filmoteka-blended2",storageBucket:"filmoteka-blended2.appspot.com",messagingSenderId:"258840557786",appId:"1:258840557786:web:03f63f1bd48af8ad814de3"});var Se=o();$.userId?(console.log(Se.logInBtn),Se.logInBtn.classList.add("visually-hidden"),Se.logOutBtn.classList.remove("visually-hidden")):(Se.logInBtn.classList.remove("visually-hidden"),Se.logOutBtn.classList.add("visually-hidden")),Se.authorisationBtn.addEventListener("click",(function(e){"log-in"===e.target.dataset.action&&($.userId&&"undefined"!==$.userId||$.openModalAuth());"log-out"===e.target.dataset.action&&(console.log(e.target.dataset.action),be.a.auth().signOut().then((function(){localStorage.clear(),Se.logInBtn.classList.remove("visually-hidden"),Se.logOutBtn.classList.add("visually-hidden"),B("You have signed out. See you, bye!"),document.location.reload()})).catch(O))})),Se.searchForm.addEventListener("submit",(function(e){return Ae.apply(this,arguments)}));document.querySelector(".header").insertAdjacentHTML("afterend",'<div class="container gallery-js" data-cont="container"></div>');var Le=document.querySelector(".gallery-js");function xe(){return Ie.apply(this,arguments)}function Ie(){return(Ie=ke(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.page=1,u.set("current",1),e.prev=2,e.next=5,v.getPopularMovies();case 5:t=e.sent,n=t.results,a=t.total_results,Re(n),Ee(a),v.getRefs().divContainer.addEventListener("click",Be),Se.header.addEventListener("click",_e),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),q(),O("Ooops!Something went wrong :(");case 18:q();case 19:case"end":return e.stop()}}),e,null,[[2,14]])})))).apply(this,arguments)}function _e(e){if(("home"===e.target.dataset.action||e.target.closest("svg"))&&(xe(),Se.searchForm.elements.query.value="",M(),Se.libNav.classList.remove("current-page"),Se.homeNav.classList.add("current-page"),Se.header.classList.remove("library-header"),Se.searchForm.classList.remove("visually-hidden"),Se.headerBtnWrapper.classList.add("visually-hidden")),"library"===e.target.dataset.action)if($.userId&&"undefined"!==$.userId){Se.homeNav.classList.remove("current-page"),Se.libNav.classList.add("current-page"),Se.header.classList.add("library-header"),Se.searchForm.classList.add("visually-hidden"),Se.headerBtnWrapper.classList.remove("visually-hidden"),Se.pagination.classList.add("visually-hidden");v.getRefs().gallery.innerHTML='<span class="library-inittext" style="text-align: center; display: block; margin-top: 25px">Your library is empty</span>',function(){for(var e=o(),t=e.btnWatched,n=e.btnQueue,a=Object.keys(localStorage),r=[],i=0,s=a;i<s.length;i++){var l=""+s[i];r.push(l)}var c=r.map((function(e){if("watched_fb"===e||"queue_fb"===e)return e}));t.classList.remove("btn-active-page"),n.classList.remove("btn-active-page"),c.includes("watched_fb")&&(M(),ae.getAllWatchedData().then((function(e){void 0===e&&c.includes("queue_fb")&&(M(),ae.getAllQueueData().then((function(e){Ue(e),q()})),n.classList.add("btn-active-page"),t.classList.remove("btn-active-page")),q(),void 0!==e&&(t.classList.add("btn-active-page"),n.classList.remove("btn-active-page")),Ue(e)})))}()}else $.openModalAuth()}function Ae(){return(Ae=ke(regeneratorRuntime.mark((function e(t){var n,a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),v.fetchMethod="query",d.page=1,u.set("current",1),v.query=t.currentTarget.elements.query.value.trim(),""!==v.query){e.next=7;break}return e.abrupt("return",P("Search result not successful. Please, enter correct movie name and try again"));case 7:return e.prev=7,M(),e.next=11,v.getMoviesByQuery();case 11:if(n=e.sent,a=n.results,r=n.total_results,0!==a.length){e.next=20;break}return Se.searchForm.reset(),q(),e.abrupt("return",P("Search was not successful. Please, enter another movie name and try again"));case 20:B("found "+r+" movies");case 21:Re(a),Ee(r),e.next=29;break;case 25:e.prev=25,e.t0=e.catch(7),q(),O("Ooops!Something went wrong :(");case 29:q();case 30:case"end":return e.stop()}}),e,null,[[7,25]])})))).apply(this,arguments)}function Re(e){Se.pagination.classList.remove("visually-hidden");var t=e.map((function(e){return r=(t=e).poster_path,o=t.title,i=t.release_date,s=t.vote_average,l=t.vote_count,c=t.popularity,u=t.overview,d=t.id,p=t.genre_ids,{imgSrc:w(r),title:(n=o,a=n.split(""),a.length>33?a.splice(0,34).join("")+"...":a.join("")),releaseDate:k(i),voteAverage:s,voteCount:l,popularity:c,overview:u,id:d,genresFirst:L(p)[0],genresSecond:L(p)[1],genresThird:L(p)[2],genreIdFirst:p[0],genreIdSecond:p[1],genreIdThird:p[2],noPoster:b};var t,n,a,r,o,i,s,l,c,u,d,p}));Le.innerHTML=J()(t),me()}function Ee(e){u.set("totalResult",e);var t=u.getPaginationData(),n=t.range,a=t.last,r=ye()({range:n,last:a}),o=document.querySelector(".pagination-js");o.innerHTML=r,o.addEventListener("click",je);var i=document.querySelector('[data-nav="first"]'),s=document.querySelector('[data-nav="last"]');document.querySelectorAll("[data-num]").forEach((function(e){e.textContent==d.page&&e.classList.add("active")})),d.page>3&&i.classList.remove("visually-hidden"),d.page>4&&i.nextElementSibling.classList.remove("visually-hidden"),d.page>u.getPaginationData().last-3&&s.classList.add("visually-hidden"),d.page>u.getPaginationData().last-4&&s.previousElementSibling.classList.add("visually-hidden")}function je(e){if(e.target.hasAttribute("data-nav")||e.target.hasAttribute("data-num")){if("prev"===e.target.dataset.nav){if(d.page<=1)return;d.decrement()}else if("first"===e.target.dataset.nav)d.page=1;else if("next"===e.target.dataset.nav){if(d.page>=u.getPaginationData().last)return;d.increment()}else"last"===e.target.dataset.nav?d.page=u.getPaginationData().last:d.page=e.target.dataset.num;u.set("current",d.page),"popular"===v.fetchMethod?function(){Me.apply(this,arguments)}():"query"===v.fetchMethod?function(){qe.apply(this,arguments)}():"genre"===v.fetchMethod?function(){Te.apply(this,arguments)}():"year"===v.fetchMethod&&function(){De.apply(this,arguments)}(),Ee(u.getPaginationData().totalResult)}}function qe(){return(qe=ke(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getMoviesByQuery();case 2:t=e.sent,n=t.results,t.total_results,Re(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Me(){return(Me=ke(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getPopularMovies();case 2:t=e.sent,n=t.results,t.total_results,Re(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(){return(Te=ke(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getSearchGenres();case 2:t=e.sent,n=t.results,t.total_results,Re(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(){return(De=ke(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getSearchYear();case 2:t=e.sent,n=t.results,t.total_results,Re(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pe(){return(Pe=ke(regeneratorRuntime.mark((function e(t){var n,a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),v.fetchMethod="genre",d.page=1,u.set("current",1),Se.btnWatched.classList.remove("btn-active-page"),Se.btnQueue.classList.remove("btn-active-page"),e.next=8,t.target;case 8:return n=e.sent,v.searchGenre=n.dataset.id,e.prev=10,M(),e.next=14,v.getSearchGenres();case 14:a=e.sent,r=a.results,Ee(a.total_results),Re(r),me(),v.getRefs().divContainer.addEventListener("click",Be),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(10),q(),O("Ooops!Something went wrong :(");case 27:q();case 28:case"end":return e.stop()}}),e,null,[[10,23]])})))).apply(this,arguments)}function Oe(){return(Oe=ke(regeneratorRuntime.mark((function e(t){var n,a,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v.fetchMethod="year",d.page=1,u.set("current",1),Se.btnWatched.classList.remove("btn-active-page"),Se.btnQueue.classList.remove("btn-active-page"),e.prev=5,e.next=8,t.target.textContent;case 8:return n=e.sent,v.searchYear=n,M(),e.next=13,v.getSearchYear();case 13:a=e.sent,r=a.results,o=a.total_results,Re(r),me(),Ee(o),v.getRefs().divContainer.addEventListener("click",Be),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(5),q(),O("Ooops!Something went wrong :(");case 26:q();case 27:case"end":return e.stop()}}),e,null,[[5,22]])})))).apply(this,arguments)}function Be(e){if("ok"===e.target.dataset.search)!function(e){Pe.apply(this,arguments)}(e);else{if("releaseDate"!==e.target.dataset.set)return;!function(e){Oe.apply(this,arguments)}(e)}}function Ue(e){if(null!=e){var t=e.map((function(e){return R(e)}));document.querySelector('[data-cont="container"]').innerHTML=J()(t)}}xe();var Ne=n("JkYF"),Ce=n.n(Ne);function We(e,t,n,a,r,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(a,r)}function Fe(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){We(o,a,r,i,s,"next",e)}function s(e){We(o,a,r,i,s,"throw",e)}i(void 0)}))}}function Qe(){return(Qe=Fe(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getByVideo(t).then((function(e){var t=e.results.slice(0,1).map((function(e){return A(e)}));v.getRefs().divModalVideo.insertAdjacentHTML("afterbegin",Ce()(t))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ye=n("dcBu");n("JVuP");function He(e){var t=Ye.create(e,{onClose:function(e){Ge.bodyRef.classList.remove("overflow-hidden")}});Ge.bodyRef.classList.add("overflow-hidden"),t.show(),window.addEventListener("keydown",r);var n=document.querySelector(".modal-btn-close"),a=function(){t.close(),window.removeEventListener("keydown",r)};function r(e){"Escape"===e.code&&a()}n.addEventListener("click",a),v.getRefs().listGenreModal&&v.getRefs().listGenreModal.addEventListener("click",(function(e){Be(e),a()}))}var Ge=o();var Je=o(),Ve=Je.btnWatched,Xe=Je.btnQueue;function Ze(e){console.log(">>",e);var t=e.map((function(e){return R(e)}));document.querySelector('[data-cont="container"]').innerHTML=J()(t)}Ve.addEventListener("click",(function(){var e=JSON.parse(localStorage.getItem("watched_fb"));if(null===e||0===e.length)return q(),document.querySelector('[data-cont="container"]').innerHTML='<span class="library-inittext"style="text-align: center; display: block; margin-top: 25px">There’s nothing <span class="library-choosetext">in the WATCHED</span>, yet :( You should add something first</span>',Ve.classList.add("btn-active-page"),void Xe.classList.remove("btn-active-page");Ze(e),Ve.classList.add("btn-active-page"),Xe.classList.remove("btn-active-page")})),Xe.addEventListener("click",(function(){M();var e=JSON.parse(localStorage.getItem("queue_fb"));if(null===e||0===e.length)return q(),document.querySelector('[data-cont="container"]').innerHTML='<span class="library-inittext"style="text-align: center; display: block; margin-top: 25px">There’s nothing <span class="library-choosetext">in the QUEUE</span>, yet :( You should add something first</span>',Xe.classList.add("btn-active-page"),void Ve.classList.remove("btn-active-page");Ze(e),q(),Xe.classList.add("btn-active-page"),Ve.classList.remove("btn-active-page")}));var ze=n("1ROM"),Ke=n.n(ze),$e=o();document.querySelector(".modal-team-js").addEventListener("click",(function(e){e.preventDefault(),et.show(),$e.bodyRef.classList.add("overflow-hidden"),window.addEventListener("keydown",(function e(t){"Escape"===t.code&&(et.close(),window.removeEventListener("keydown",e))}));var t=document.querySelector(".modal-btn-close");t.addEventListener("click",(function e(){et.close(),t.removeEventListener("click",e)}))}));var et=Ye.create(Ke.a,{onClose:function(e){$e.bodyRef.classList.remove("overflow-hidden")}})},Sanw:function(e,t,n){e.exports=n.p+"images/team-images/pavel_gromov.jpg"},V20V:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAACNSURBVEhL5ZPhCoAwCIS193/nSuGi3JYbqX/6YFGSZ3cS7yeUyDWAmbUQBb57k0u0uABNdXAfgMmo4XmEfc9qqQPgic1gNR4DMmgisniuvN50B80OcFYZ9dY6yMBd8hckrloHMhH0aj283h8seTaiHvURyUScVUa9tQ7e8pzFatT8yTa3CKCpDvQuBaID2XiA4JgTd30AAAAASUVORK5CYII="},VX1f:function(e,t,n){e.exports=n.p+"images/team-images/rina_ocean.jpg"},ayCn:function(e,t,n){e.exports=n.p+"images/team-images/yaroslav.jpg"},lpcX:function(e,t,n){e.exports=n.p+"images/team-images/susulovskyi.jpg"},nYF8:function(e,t,n){e.exports=n.p+"images/team-images/andrii_shemet.jpg"},oRt2:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,a,r,o){var i;return'<header class="header">\n  <button type="button" class="authorisation-btn">\n    <i id="log-in" class="material-icons authorisation-icon " data-action="log-in">\n      perm_identity </i>\n    <i id="log-out" class="material-icons authorisation-icon  visually-hidden"\n      data-action="log-out"> logout </i>\n  </button>\n  <div class="header-content-wrapper container">\n\n    <div class="header-nav">\n\n      <div class="header-logo-wrapper" data-action="home">\n\n        <svg data-action="home" class="header-logo-svg" version="1.1"\n          xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 32 32">\n          <title>film</title>\n          <path fill="" stroke-linejoin="round" stroke-linecap="round"\n            stroke-miterlimit="4" stroke-width="2.6667" stroke="#818181"\n            d="M26.427 2.667h-20.853c-1.605 0-2.907 1.301-2.907 2.907v20.853c0 1.605 1.301 2.907 2.907 2.907h20.853c1.605 0 2.907-1.301 2.907-2.907v-20.853c0-1.605-1.301-2.907-2.907-2.907z">\n          </path>\n          <path fill="none" stroke-linejoin="round" stroke-linecap="round"\n            stroke-miterlimit="4" stroke-width="2.6667" stroke="#818181"\n            d="M9.333 2.667v26.667"></path>\n          <path fill="none" stroke-linejoin="round" stroke-linecap="round"\n            stroke-miterlimit="4" stroke-width="2.6667" stroke="#818181"\n            d="M22.667 2.667v26.667"></path>\n          <path fill="none" stroke-linejoin="round" stroke-linecap="round"\n            stroke-miterlimit="4" stroke-width="2.6667" stroke="#818181"\n            d="M2.667 16h26.667"></path>\n          <path fill="none" stroke-linejoin="round" stroke-linecap="round"\n            stroke-miterlimit="4" stroke-width="2.6667" stroke="#818181"\n            d="M2.667 9.333h6.667"></path>\n          <path fill=none" stroke-linejoin="round" stroke-linecap="round"\n            stroke-miterlimit="4" stroke-width="2.6667" stroke="#818181"\n            d="M2.667 22.667h6.667"></path>\n          <path fill="none" stroke-linejoin="round" stroke-linecap="round"\n            stroke-miterlimit="4" stroke-width="2.6667" stroke="#818181"\n            d="M22.667 22.667h6.667"></path>\n          <path fill="none" stroke-linejoin="round" stroke-linecap="round"\n            stroke-miterlimit="4" stroke-width="2.6667" stroke="#818181"\n            d="M22.667 9.333h6.667"></path>\n        </svg>\n\n        <span class="header-logo-title" data-action="home">Filmoteka</span>\n\n      </div>\n\n      <ul class="header-list">\n        <li class="header-list-item current-page  home-page-js" data-action="home">Home\n        </li>\n        <li class="header-list-item  library-page-js" data-action="library">My library\n        </li>\n      </ul>\n\n    </div>\n\n    <form class="header-search-form" id="search-form">\n      <input id="query" class="header-input" autocomplete="off" type="text" required />\n      <label class="header-form" for="query">Search movies</label>\n\n      <button class="header-search-button" type="submit">\n        <svg class="header-search-svg" version="1.1" xmlns="http://www.w3.org/2000/svg"\n          width="12" height="12" viewBox="0 0 32 32">\n          <title>search</title>\n          <path fill="none" stroke-linejoin="round" stroke-linecap="round"\n            stroke-miterlimit="4" stroke-width="2.6667" stroke=" #ffffff"\n            d="M14.667 25.333c5.891 0 10.667-4.776 10.667-10.667s-4.776-10.667-10.667-10.667c-5.891 0-10.667 4.776-10.667 10.667s4.776 10.667 10.667 10.667z">\n          </path>\n          <path fill="none" stroke-linejoin="round" stroke-linecap="round"\n            stroke-miterlimit="4" stroke-width="2.6667" stroke=" #ffffff"\n            d="M28 28.001l-5.8-5.8"></path>\n        </svg>\n      </button>\n    </form><br>\n\n    <div class="wrapper-btn-header visually-hidden">\n      <button class="btn btn-header btn-active-page js-watched" type="button">\n        Watched\n      </button>\n      <button class="btn btn-header js-queue" type="button">queue</button>\n    </div>\n\n  </div>\n\n</header>\n<button class="scroll-up" type="button" id="scrollToTop">\n  <i class="material-icons scroll-up-icon">vertical_align_top</i>\n\n</button>\n\n'+(null!=(i=e.invokePartial(n("GWpg"),t,{name:"./loader.hbs",data:o,helpers:a,partials:r,decorators:e.decorators}))?i:"")},usePartial:!0,useData:!0})},rP1I:function(e,t,n){e.exports=n.p+"images/team-images/dmitry_nezvinskyi.jpg"},s9S4:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,r){var o,i=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="modal">\n\t<div class="modal-btn-close_container">\n\t\t<button class="modal-btn-close" type="button">\n\t\t\t<svg class="close-svg" width="100%" height="100%" viewBox="0 0 30 30"\n\t\t\t\tfill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t<path d="M8 8L22 22" stroke="black" stroke-width="2" />\n\t\t\t\t<path d="M8 22L22 8" stroke="black" stroke-width="2" />\n\t\t\t</svg>\n\t\t</button>\n\t</div>\n\t<div class="modal-container">\n\t\t<div class="modal-img">\n\t\t\t<img src="'+c(typeof(o=null!=(o=u(n,"imgSrc")||(null!=t?u(t,"imgSrc"):t))?o:s)===l?o.call(i,{name:"imgSrc",hash:{},data:r,loc:{start:{line:13,column:13},end:{line:13,column:23}}}):o)+'" alt="poster of '+c(typeof(o=null!=(o=u(n,"title")||(null!=t?u(t,"title"):t))?o:s)===l?o.call(i,{name:"title",hash:{},data:r,loc:{start:{line:13,column:40},end:{line:13,column:49}}}):o)+' film">\n\t\t</div>\n\n\t\t<div class="modal-wrapper">\n\t\t\t<div class="modal-content">\n\t\t\t\t<h2 class="modal-content_title">'+c(typeof(o=null!=(o=u(n,"title")||(null!=t?u(t,"title"):t))?o:s)===l?o.call(i,{name:"title",hash:{},data:r,loc:{start:{line:18,column:36},end:{line:18,column:45}}}):o)+'</h2>\n\t\t\t\t<div class="modal-content-list_wrapper">\n\t\t\t\t\t<ul class="modal-card_list_left">\n\t\t\t\t\t\t<li class="modal-list_item"><span>Vote/Votes</span></li>\n\t\t\t\t\t\t<li class="modal-list_item"><span>Popularity</span></li>\n\t\t\t\t\t\t<li class="modal-list_item"><span>Original Title</span></li>\n\t\t\t\t\t\t<li class="modal-list_item"><span>Genre</span></li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t<ul class="modal-card_list_right">\n\t\t\t\t\t\t<li class="modal-list_item ">\n\t\t\t\t\t\t\t<span class="vote-avarage">'+c(typeof(o=null!=(o=u(n,"voteAverage")||(null!=t?u(t,"voteAverage"):t))?o:s)===l?o.call(i,{name:"voteAverage",hash:{},data:r,loc:{start:{line:28,column:34},end:{line:28,column:49}}}):o)+"</span><span>/\n\t\t\t\t\t\t\t\t"+c(typeof(o=null!=(o=u(n,"voteCount")||(null!=t?u(t,"voteCount"):t))?o:s)===l?o.call(i,{name:"voteCount",hash:{},data:r,loc:{start:{line:29,column:8},end:{line:29,column:21}}}):o)+'</span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class="modal-list_item"><span>'+c(typeof(o=null!=(o=u(n,"popularity")||(null!=t?u(t,"popularity"):t))?o:s)===l?o.call(i,{name:"popularity",hash:{},data:r,loc:{start:{line:31,column:40},end:{line:31,column:54}}}):o)+'</span></li>\n\t\t\t\t\t\t<li class="modal-list_item modal-list_title">\n\t\t\t\t\t\t\t<span>'+c(typeof(o=null!=(o=u(n,"title")||(null!=t?u(t,"title"):t))?o:s)===l?o.call(i,{name:"title",hash:{},data:r,loc:{start:{line:33,column:13},end:{line:33,column:22}}}):o)+'</span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class="modal-list_item modal-list_genre"\n\t\t\t\t\t\t\tid="genre-search-container">\n\n\t\t\t\t\t\t\t<span class="genre-id-modal" data-search="ok"\n\t\t\t\t\t\t\t\tdata-id="'+c(typeof(o=null!=(o=u(n,"genreIdFirst")||(null!=t?u(t,"genreIdFirst"):t))?o:s)===l?o.call(i,{name:"genreIdFirst",hash:{},data:r,loc:{start:{line:39,column:17},end:{line:39,column:33}}}):o)+'">'+c(typeof(o=null!=(o=u(n,"genresFirst")||(null!=t?u(t,"genresFirst"):t))?o:s)===l?o.call(i,{name:"genresFirst",hash:{},data:r,loc:{start:{line:39,column:35},end:{line:39,column:50}}}):o)+'</span>\n\t\t\t\t\t\t\t<span class="genre-id-modal" data-search="ok"\n\t\t\t\t\t\t\t\tdata-id="'+c(typeof(o=null!=(o=u(n,"genreIdSecond")||(null!=t?u(t,"genreIdSecond"):t))?o:s)===l?o.call(i,{name:"genreIdSecond",hash:{},data:r,loc:{start:{line:41,column:17},end:{line:41,column:34}}}):o)+'">'+c(typeof(o=null!=(o=u(n,"genresSecond")||(null!=t?u(t,"genresSecond"):t))?o:s)===l?o.call(i,{name:"genresSecond",hash:{},data:r,loc:{start:{line:41,column:36},end:{line:41,column:52}}}):o)+'</span>\n\t\t\t\t\t\t\t<span class="genre-id-modal" data-search="ok"\n\t\t\t\t\t\t\t\tdata-id="'+c(typeof(o=null!=(o=u(n,"genreIdThird")||(null!=t?u(t,"genreIdThird"):t))?o:s)===l?o.call(i,{name:"genreIdThird",hash:{},data:r,loc:{start:{line:43,column:17},end:{line:43,column:33}}}):o)+'">'+c(typeof(o=null!=(o=u(n,"genresThird")||(null!=t?u(t,"genresThird"):t))?o:s)===l?o.call(i,{name:"genresThird",hash:{},data:r,loc:{start:{line:43,column:35},end:{line:43,column:50}}}):o)+'</span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\n\t\t\t\t<h3 class="modal-title_about">about</h3>\n\t\t\t\t<p class="modal-card_text">'+c(typeof(o=null!=(o=u(n,"overview")||(null!=t?u(t,"overview"):t))?o:s)===l?o.call(i,{name:"overview",hash:{},data:r,loc:{start:{line:49,column:31},end:{line:49,column:43}}}):o)+'</p>\n\t\t\t</div>\n\t\t\t<div class="modal-btn-container">\n\t\t\t\t<button class="btn btn-modal btn-js-addtowatched" type="button"\n\t\t\t\t\tid="watched">add to\n\t\t\t\t\twatched</button>\n\t\t\t\t<button class="btn btn-modal btn-js-addtoqueue" type="button"\n\t\t\t\t\tid="queue">add to\n\t\t\t\t\tqueue</button>\n\t\t\t</div>\n\n\t\t\t<button class="youtubeBtn" type="button" id="trailer">WATCH\n\t\t\t\tTRAILER</button>\n\n\t\t</div>\n\t</div>\n\t<div class="visually-hidden" id="modal-youtube">\n\t\t<button class="btn youtubeBtn-close" type="button"\n\t\t\tid="closeYoutubeModalBtn">\n\t\t\t<svg class="close-svg" width="100%" height="100%" viewBox="0 0 30 30"\n\t\t\t\tfill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t<path d="M8 8L22 22" stroke="white" stroke-width="2" />\n\t\t\t\t<path d="M8 22L22 8" stroke="white" stroke-width="2" />\n\t\t\t</svg>\n\t\t</button>\n\t</div>\n</div>'},useData:!0})},sn0T:function(e,t,n){e.exports=n.p+"images/default/no-poster-img.jpg"},w3aI:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,a,r,o){var i;return'<ul class="container-film gallery-js">\n'+(null!=(i=e.invokePartial(n("MJe1"),t,{name:"./film-card.hbs",data:o,indent:"\t",helpers:a,partials:r,decorators:e.decorators}))?i:"")+"</ul>"},usePartial:!0,useData:!0})},yD95:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,r){var o=e.lambda,i=e.escapeExpression;return'\t<button class="page-btn" data-num=\''+i(o(t,t))+"'>"+i(o(t,t))+"</button>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,r){var o,i,s=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="page-btn_list">\n\t<button class="arrow-btn page-btn" data-nav=\'prev\'>\n\t\t<i class="material-icons arr" data-nav=\'prev\' style="">arrow_back</i>\n\t</button>\n\t<button class="page-btn hidden visually-hidden" data-nav=\'first\'>1</button>\n\t<button class="page-btn ellipsis hidden visually-hidden">...</button>\n'+(null!=(o=l(n,"each").call(s,null!=t?l(t,"range"):t,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:7,column:1},end:{line:9,column:10}}}))?o:"")+'\t<button class="page-btn ellipsis hidden">...</button>\n\t<button class="page-btn hidden" data-nav=\'last\'>'+e.escapeExpression("function"==typeof(i=null!=(i=l(n,"last")||(null!=t?l(t,"last"):t))?i:e.hooks.helperMissing)?i.call(s,{name:"last",hash:{},data:r,loc:{start:{line:11,column:49},end:{line:11,column:57}}}):i)+'</button>\n\t<button class="arrow-btn page-btn" data-nav=\'next\'>\n\t\t<i class="material-icons arr" data-nav=\'next\' style="">arrow_forward</i>\n\t</button>\n</div>'},useData:!0})},yIDU:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,r){return'<footer class="footer">\n    <div class="container footer-wraper">\n\n        <span class="footer-text">© 2020 | All Rights Reserved |\n\n        </span>\n        <span class="students-link footer-text">Developed with <svg class="footer-wraper-heart-icon" version="1.1"\n                xmlns="http://www.w3.org/2000/svg" width="34" height="32" viewBox="0 0 34 32">\n                <title>hart</title>\n                <path\n                    d="M17.231 31.705l-2.412-2.412c-8.96-7.926-14.818-13.268-14.818-19.815 0-5.342 4.135-9.477 9.477-9.477 2.929 0 5.858 1.378 7.754 3.618 1.895-2.24 4.825-3.618 7.754-3.618 5.342 0 9.477 4.135 9.477 9.477 0 6.548-5.858 11.889-14.818 19.815l-2.412 2.412z">\n                </path>\n            </svg> by <a href="" class="footer-text modal-team-js">GoIT\n                Students</a></span>\n\n    </div>\n</footer>'},useData:!0})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.7255139f6f84064db499.js.map