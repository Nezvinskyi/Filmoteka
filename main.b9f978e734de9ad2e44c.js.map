{"version":3,"sources":["webpack:///./templates/film-card.hbs","webpack:///./js/get-refs.js","webpack:///./js/header.js","webpack:///./js/footer.js","webpack:///./js/api/settings.js","webpack:///./js/api/moviesApi.js","webpack:///./js/render-card.js","webpack:///./templates/header.hbs","webpack:///./templates/film-list.hbs","webpack:///./templates/footer.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","getRefs","bodyRef","document","querySelector","header","markup","refs","headerTplt","insertAdjacentHTML","footerItemsRef","footer","footerTmp","API_KEY","BASE_URL","MoviesApi","this","searchQuery","mediaType","timeWindow","_movieId","page","genres","init","console","log","getGenres","fetch","url","response","ok","status","json","getPopularMovies","popularMovies","getById","movie","getMoviesByQuery","movies","renderGalery","renderModal","getPage","valuePage","incrementPage","decrementPage","resetPage","newQuery","newId","moviesApi","POSTER_URL","imgPoster","genresList","id","name","generateGenre","genre","map","item","forEach","one","then","movieDataList","results","poster_path","original_title","release_date","vote_average","homepage","vote_count","popularity","overview","genre_ids","imgSrc","imageName","title","releaseDate","date","slice","voteAverage","voteCount","searchGenre","cardList","stack1","invokePartial","decorators","program","noop"],"mappings":"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","file":"main.b9f978e734de9ad2e44c.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"card-film\\\">\\r\\n  <picture>\\r\\n    <source src=\\\"../images/no-poster-img.jpg\\\" type=\\\"image/webp\\\">\\r\\n    <img class=\\\"card-img\\\" src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"imgSrc\") || (depth0 != null ? lookupProperty(depth0,\"imgSrc\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"imgSrc\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":31},\"end\":{\"line\":4,\"column\":41}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":48},\"end\":{\"line\":4,\"column\":57}}}) : helper)))\n    + \"\\\">\\r\\n  </picture>\\r\\n  <h2 class=\\\"card-title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":25},\"end\":{\"line\":6,\"column\":34}}}) : helper)))\n    + \"</h2>\\r\\n  <div class=\\\"card-info\\\">\\r\\n    <p class=\\\"genre-id\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"genre\") || (depth0 != null ? lookupProperty(depth0,\"genre\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"genre\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":24},\"end\":{\"line\":8,\"column\":33}}}) : helper)))\n    + \"</p>\\r\\n    <p class=\\\"card-symb\\\">|</p>\\r\\n    <p class=\\\"film-date\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"releaseDate\") || (depth0 != null ? lookupProperty(depth0,\"releaseDate\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"releaseDate\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":25},\"end\":{\"line\":10,\"column\":40}}}) : helper)))\n    + \"</p>\\r\\n    <div class=\\\"card-raiting\\\">\\r\\n      <p class=\\\"film-raiting\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"voteAverage\") || (depth0 != null ? lookupProperty(depth0,\"voteAverage\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"voteAverage\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":30},\"end\":{\"line\":12,\"column\":45}}}) : helper)))\n    + \"</p>\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n\\r\\n</li>\";\n},\"useData\":true});","export default function getRefs() {\r\n  return {\r\n    bodyRef: document.querySelector('body'),\r\n    header: document.querySelector('header'),\r\n    // searchForm: document.getElementById('search-form'),\r\n    // gallery: document.querySelector('.gallery'),\r\n  };\r\n}\r\n","import headerTplt from '../templates/header.hbs';\r\nimport getRefs from '../js/get-refs';\r\n\r\nconst refs = getRefs();\r\n\r\nfunction addHeader() {\r\n  const markup = headerTplt();\r\n\r\n  refs.bodyRef.insertAdjacentHTML('afterbegin', markup);\r\n}\r\n\r\naddHeader();\r\n","import footerTmp from '../templates/footer.hbs';\r\n\r\nfunction createFooter() {\r\n  const footerItemsRef = document.querySelector('body');\r\n  const footer = footerTmp();\r\n  footerItemsRef.insertAdjacentHTML('beforeend', footer);\r\n}\r\n\r\ncreateFooter();\r\n","// TODO проверить url!\r\n\r\nexport default {\r\n  BASE_URL: 'https://api.themoviedb.org/3',\r\n  API_KEY: '4b778d4c29fb731b86ff7a9149d1de58',\r\n  POSTER_URL: 'https://image.tmdb.org/t/p/w400',\r\n};\r\n","import settings from './settings';\r\nconst { API_KEY, BASE_URL } = settings;\r\nexport default class MoviesApi {\r\n  constructor() {\r\n    this.searchQuery = '';\r\n    this.mediaType = 'movie';\r\n    this.timeWindow = 'day';\r\n    this._movieId = '';\r\n    this.page = 1;\r\n    this.genres = [];\r\n    this.init();\r\n  }\r\n\r\n  get query() {\r\n    return this.searchQuery;\r\n  }\r\n\r\n  set query(newQuery) {\r\n    this.searchQuery = newQuery;\r\n  }\r\n\r\n  get movieId() {\r\n    return this._movieId;\r\n  }\r\n\r\n  set movieId(newId) {\r\n    this._movieId = newId;\r\n  }\r\n\r\n  init() {\r\n    console.log('Стартовая загрузка');\r\n    this.getGenres();\r\n  }\r\n\r\n  async fetch(url) {\r\n    const response = await fetch(url);\r\n    if (!response.ok) throw response.status;\r\n    return await response.json();\r\n  }\r\n\r\n  async getGenres() {\r\n    const url = `${BASE_URL}/genre/movie/list?api_key=${API_KEY}&language=en-US`;\r\n    const { genres } = await this.fetch(url);\r\n    this.genres = genres;\r\n    console.log('возращает массив жанров', genres);\r\n    return genres;\r\n  }\r\n\r\n  async getPopularMovies() {\r\n    const url = `${BASE_URL}/trending/${this.mediaType}/${this.timeWindow}?api_key=${API_KEY}&page=${this.page}`;\r\n    if (this.page === 0) return;\r\n    const popularMovies = await this.fetch(url);\r\n    console.log('возвращает массив популярных фильмов', popularMovies);\r\n    return popularMovies;\r\n  }\r\n\r\n  async getById() {\r\n    const url = `${BASE_URL}/movie/${this._movieId}?api_key=${API_KEY}&language=en-US&page=${this.page}`;\r\n    const movie = await this.fetch(url);\r\n    console.log('возвращает объект фильма по id', movie);\r\n    return movie;\r\n  }\r\n\r\n  async getMoviesByQuery() {\r\n    // this.searchQuery = query;\r\n    const url = `${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&query=${this.searchQuery}&page=${this.page}&include_adult=false`;\r\n    /* if (this.searchQuery === '') return; */\r\n    const movies = await this.fetch(url);\r\n    console.log('возвращает массив фильмов по поиску', movies);\r\n    return movies;\r\n  }\r\n\r\n  renderGalery() {}\r\n\r\n  renderModal() {}\r\n\r\n  getPage(valuePage) {\r\n    this.page = valuePage;\r\n  }\r\n\r\n  incrementPage() {\r\n    this.page += 1;\r\n  }\r\n\r\n  decrementPage() {\r\n    if (this.page === 1) return;\r\n    this.page -= 1;\r\n  }\r\n\r\n  resetPage() {\r\n    this.page = 1;\r\n  }\r\n}\r\n","import MoviesApi from './api/moviesApi';\r\nconst moviesApi = new MoviesApi();\r\n\r\nexport default moviesApi;\r\n// import card from '../templates/film-card.hbs';\r\nimport cardList from '../templates/film-list.hbs';\r\nimport imgPoster from './api/settings';\r\nimport getRefs from '../js/get-refs';\r\n\r\nconst refs = getRefs();\r\n\r\nconst { POSTER_URL } = imgPoster;\r\n\r\nconst genresList = [\r\n  { id: 28, name: 'Action' },\r\n  { id: 12, name: 'Adventure' },\r\n  { id: 16, name: 'Animation' },\r\n  { id: 35, name: 'Comedy' },\r\n  { id: 80, name: 'Crime' },\r\n  { id: 99, name: 'Documentary' },\r\n  { id: 18, name: 'Drama' },\r\n  { id: 10751, name: 'Family' },\r\n  { id: 14, name: 'Fantasy' },\r\n  { id: 36, name: 'History' },\r\n  { id: 27, name: 'Horror' },\r\n  { id: 10402, name: 'Music' },\r\n  { id: 9648, name: 'Mystery' },\r\n  { id: 10749, name: 'Romance' },\r\n  { id: 878, name: 'Science Fiction' },\r\n  { id: 10770, name: 'TV Movie' },\r\n  { id: 53, name: 'Thriller' },\r\n  { id: 10752, name: 'War' },\r\n  { id: 37, name: 'Western' },\r\n];\r\n\r\n// function fetchContries() {\r\n//   return fetch(\r\n//     `https://api.themoviedb.org/3/search/movie?api_key=4b778d4c29fb731b86ff7a9149d1de58&query=Jack+Reacher`,\r\n//   ).then(response => response.json());\r\n// }\r\n\r\n// function render(results) {\r\n//   listRef.insertAdjacentHTML('beforeend', card(results));\r\n// }\r\n// function result() {\r\n//   fetchContries().then(render);\r\n// }\r\n// console.log(result());\r\n\r\n// // примеры использования\r\n// // импорт: import moviesApi from './js/render-card';\r\n// // (внимание: относительный путь)\r\n\r\n// // получить массив жанров\r\n// console.log(moviesApi.getGenres());\r\n\r\n// // получить полулярные на сегодня\r\n// moviesApi.getPopularMovies();\r\n\r\n// // получить фильм по id\r\n// apiMovie.movieId = 67;\r\n// apiMovie.getById();\r\n\r\n// // поиск по ключевому слову\r\n// const queryFromInput = 'Odessa';\r\n// apiMovie.searchQuery = queryFromInput;\r\n// apiMovie.getMoviesByQuery();\r\n\r\n// // получить данные для рендера модалки\r\n// async function getDate() {\r\n//   moviesApi.movieId = 67;\r\n//   const { title, release_date } = await moviesApi.getById();\r\n//   console.log(moviesApi.genres);\r\n//   console.log(title, release_date);\r\n// }\r\n// getDate();\r\n\r\nexport const generatePosterPath = imageName => `${POSTER_URL}/${imageName}`;\r\nconst generateGenre = genre => {\r\n  // console.log(...genre);\r\n  return [...genre].map(item => {\r\n    // let arr = [];\r\n    // console.log(genresList);\r\n    return genresList.forEach(one => {\r\n      // console.log(one);\r\n      if (item === one.id) {\r\n        return {};\r\n      }\r\n      // console.log(arr);\r\n    });\r\n  });\r\n};\r\nconsole.log(generateGenre());\r\nconst generateDate = date => date.slice(0, 4);\r\n\r\n// const generateGenre = genre =>\r\n//   genresList.filter(el => {\r\n//     let array = [];\r\n//     if (el.id === genre) {\r\n//       array.push(el.name);\r\n//     }\r\n//     return array;\r\n//   });\r\n// console.log(generateGenre());\r\n// const arrGenre = moviesApi.getGenres();\r\n\r\n// function generateGenre(genre) {\r\n//   // const arrGenre = moviesApi.getGenres();\r\n//   // return arrGenre.forEach(el => {\r\n//   //   if (el.id === genre) {\r\n//   //     return el.name;\r\n//   //   }\r\n//   // });\r\n// }\r\nconst movieAdapter = ({\r\n  poster_path,\r\n  original_title,\r\n  release_date,\r\n  vote_average,\r\n  homepage,\r\n  vote_count,\r\n  popularity,\r\n  overview,\r\n  genre_ids,\r\n}) => ({\r\n  imgSrc: generatePosterPath(poster_path),\r\n  title: original_title,\r\n  releaseDate: generateDate(release_date),\r\n  voteAverage: vote_average,\r\n  homepage: homepage,\r\n  voteCount: vote_count,\r\n  popularity: popularity,\r\n  overview: overview,\r\n  genre: generateGenre(genre_ids),\r\n});\r\n\r\nmoviesApi.getPopularMovies().then(({ results }) => {\r\n  const movieDataList = results.map(item => movieAdapter(item));\r\n\r\n  // const genreOfFilm = results.map(obj => {\r\n  //   return obj.genre_ids;\r\n  // });\r\n\r\n  // const genreOfFilm = results\r\n  //   .map(obj => {\r\n  //     return obj.genre_ids;\r\n  //   })\r\n  //   .flat();\r\n  // const arrGenre = moviesApi.getGenres();\r\n  // const generateGenre = genre => {\r\n  //   arrGenre.forEach(el => {\r\n  //     if (el.id === genre) {\r\n  //       return el.name;\r\n  //     }\r\n  //   });\r\n  // };\r\n  // console.log(genreOfFilm);\r\n  async function searchGenre() {\r\n    // const arrGenre = await moviesApi.getGenres();\r\n    // const generateGenre = genre => {\r\n    //   arrGenre.forEach(el => {\r\n    //     if (el.id === genre) {\r\n    //       return el.name;\r\n    //     }\r\n    //   });\r\n    // };\r\n    // const last = genreOfFilm.forEach(number => {\r\n    //   arrGenre.forEach(obj => {\r\n    //     if (number === obj.id) {\r\n    //       arr.push(obj.name);\r\n    //     }\r\n    //   });\r\n    // });\r\n    // console.log(last);\r\n    // const arrayGen = genreOfFilm.forEach(item => item);\r\n    // const last = genreOfFilm\r\n    //   .map(id =>\r\n    //     arrGenre.filter(el => {\r\n    //       el.id === id;\r\n    //     }),\r\n    //   )\r\n    //   .flat();\r\n    // const newName = genreOfFilm.forEach(obj => {\r\n    //   obj.map(id =>\r\n    //     arrGenre.filter(el => {\r\n    //       if (el.id === id) {\r\n    //         return el.name;\r\n    //       }\r\n    //     }),\r\n    //   );\r\n    // });\r\n    // const arrName = genreOfFilm.filter(obj => {\r\n    //   if (obj === arrGenre.id) {\r\n    //     return arrGenre.name;\r\n    //   }\r\n    // });\r\n    // console.log(arrName);\r\n    // const searchOne = arrGenre.reduce((acc, item) => {\r\n    //   genreOfFilm.forEach(element => {\r\n    //     if (element.includes(item.id)) {\r\n    //       acc = item.name;\r\n    //     }\r\n    //   });\r\n    //   return acc;\r\n    //   // console.log(oneObj);\r\n    // }, []);\r\n    // const searchOne = arrGenre.map(item => {\r\n    //   const newName = genreOfFilm.reduce((acc, element) => {\r\n    //     // console.log(item.id);\r\n    //     if (element.includes(item.id)) {\r\n    //       acc.push(item.name);\r\n    //       console.log(item.name);\r\n    //     }\r\n    //     return acc;\r\n    //     // return item.name;\r\n    //   }, []);\r\n    //   return newName;\r\n    // });\r\n    // console.log(searchOne[0]);\r\n    // return searchOne[0];\r\n  }\r\n  // console.log(searchGenre());\r\n  searchGenre();\r\n  const listRef = document.querySelector('.genre-id');\r\n  // console.log(listRef);\r\n\r\n  refs.header.insertAdjacentHTML('afterend', cardList(movieDataList));\r\n  // listRef.insertAdjacentHTML('afterbegin', searchGenre());\r\n});\r\n\r\n// console.log(moviesApi.getPopularMovies());\r\n\r\n////////////Genre////\r\n\r\nasync function seachSelectGenre() {\r\n  const arrSelGen = await moviesApi.getById();\r\n  console.log(arrSelGen);\r\n}\r\n// searchGenre();\r\n// seachSelectGenre();\r\n// asinc function takeGenre() {\r\n\r\n// }\r\n\r\n// import ApiMovie from './api/moviesApi';\r\n// const apiMovie = new ApiMovie();\r\n\r\n// async function foo() {\r\n//   await apiMovie.getPopular().then(({ results }) => {\r\n//     console.log(results);\r\n\r\n//     function Callback(entries) {\r\n//       entries.forEach(entry => {\r\n//         if (entry.release_date) {\r\n//           const d = new Date(entry.release_date);\r\n//           const year = d.getFullYear();\r\n//           console.log(year);\r\n//         }\r\n//       });\r\n//     }\r\n//     Callback(results);\r\n//   });\r\n// }\r\n\r\n// foo();\r\n\r\n// console.log(foo());\r\n// foo();\r\n\r\n// async function getGenreNames(genre_ids) {\r\n//   const genreNames = [];\r\n//   const data = await moviesApi.getGenres();\r\n//   genre_ids.forEach(genre_id => {\r\n//     const item = data.find(item => item.id === genre_id);\r\n//     genreNames.push(item.name);\r\n//   });\r\n//   console.log(genreNames.join(', '));\r\n//   return genreNames.join(', ');\r\n// }\r\n// getGenreNames([18, 12]);\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<header class=\\\"header\\\">\\r\\n\\r\\n  <div class=\\\"header-content-wrapper container\\\">\\r\\n\\r\\n    <div class=\\\"header-nav\\\">\\r\\n\\r\\n      <div class=\\\"header-logo-wrapper\\\">\\r\\n\\r\\n        <svg class=\\\"header-logo-svg\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"\\r\\n          width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 32 32\\\">\\r\\n          <title>film</title>\\r\\n          <path fill=\\\"\\\" stroke-linejoin=\\\"round\\\" stroke-linecap=\\\"round\\\"\\r\\n            stroke-miterlimit=\\\"4\\\" stroke-width=\\\"2.6667\\\" stroke=\\\"#818181\\\"\\r\\n            d=\\\"M26.427 2.667h-20.853c-1.605 0-2.907 1.301-2.907 2.907v20.853c0 1.605 1.301 2.907 2.907 2.907h20.853c1.605 0 2.907-1.301 2.907-2.907v-20.853c0-1.605-1.301-2.907-2.907-2.907z\\\">\\r\\n          </path>\\r\\n          <path fill=\\\"none\\\" stroke-linejoin=\\\"round\\\" stroke-linecap=\\\"round\\\"\\r\\n            stroke-miterlimit=\\\"4\\\" stroke-width=\\\"2.6667\\\" stroke=\\\"#818181\\\"\\r\\n            d=\\\"M9.333 2.667v26.667\\\"></path>\\r\\n          <path fill=\\\"none\\\" stroke-linejoin=\\\"round\\\" stroke-linecap=\\\"round\\\"\\r\\n            stroke-miterlimit=\\\"4\\\" stroke-width=\\\"2.6667\\\" stroke=\\\"#818181\\\"\\r\\n            d=\\\"M22.667 2.667v26.667\\\"></path>\\r\\n          <path fill=\\\"none\\\" stroke-linejoin=\\\"round\\\" stroke-linecap=\\\"round\\\"\\r\\n            stroke-miterlimit=\\\"4\\\" stroke-width=\\\"2.6667\\\" stroke=\\\"#818181\\\"\\r\\n            d=\\\"M2.667 16h26.667\\\"></path>\\r\\n          <path fill=\\\"none\\\" stroke-linejoin=\\\"round\\\" stroke-linecap=\\\"round\\\"\\r\\n            stroke-miterlimit=\\\"4\\\" stroke-width=\\\"2.6667\\\" stroke=\\\"#818181\\\"\\r\\n            d=\\\"M2.667 9.333h6.667\\\"></path>\\r\\n          <path fill=none\\\" stroke-linejoin=\\\"round\\\" stroke-linecap=\\\"round\\\"\\r\\n            stroke-miterlimit=\\\"4\\\" stroke-width=\\\"2.6667\\\" stroke=\\\"#818181\\\"\\r\\n            d=\\\"M2.667 22.667h6.667\\\"></path>\\r\\n          <path fill=\\\"none\\\" stroke-linejoin=\\\"round\\\" stroke-linecap=\\\"round\\\"\\r\\n            stroke-miterlimit=\\\"4\\\" stroke-width=\\\"2.6667\\\" stroke=\\\"#818181\\\"\\r\\n            d=\\\"M22.667 22.667h6.667\\\"></path>\\r\\n          <path fill=\\\"none\\\" stroke-linejoin=\\\"round\\\" stroke-linecap=\\\"round\\\"\\r\\n            stroke-miterlimit=\\\"4\\\" stroke-width=\\\"2.6667\\\" stroke=\\\"#818181\\\"\\r\\n            d=\\\"M22.667 9.333h6.667\\\"></path>\\r\\n        </svg>\\r\\n\\r\\n        <span class=\\\"header-logo-title\\\">Filmoteka</span>\\r\\n\\r\\n      </div>\\r\\n      <ul class=\\\"header-list\\\">\\r\\n        <li class=\\\"header-list-item current-page current-page-js\\\">Home</li>\\r\\n        <li class=\\\"header-list-item\\\">My library</li>\\r\\n      </ul>\\r\\n\\r\\n    </div>\\r\\n\\r\\n    <form class=\\\"search-form\\\" id=\\\"search-form\\\">\\r\\n      <label class=\\\"header-form\\\" for=\\\"query\\\">\\r\\n\\r\\n        <input id=\\\"query\\\" class=\\\"header-input\\\" type=\\\"search\\\"\\r\\n          placeholder=\\\"Поиск фильмов\\\" /></form>\\r\\n\\r\\n\\r\\n\\r\\n    <svg class=\\\"header-search-svg\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"\\r\\n      width=\\\"12\\\" height=\\\"12\\\" viewBox=\\\"0 0 32 32\\\">\\r\\n      <title>search</title>\\r\\n      <path fill=\\\"none\\\" stroke-linejoin=\\\"round\\\" stroke-linecap=\\\"round\\\"\\r\\n        stroke-miterlimit=\\\"4\\\" stroke-width=\\\"2.6667\\\" stroke=\\\" #ffffff\\\"\\r\\n        d=\\\"M14.667 25.333c5.891 0 10.667-4.776 10.667-10.667s-4.776-10.667-10.667-10.667c-5.891 0-10.667 4.776-10.667 10.667s4.776 10.667 10.667 10.667z\\\">\\r\\n      </path>\\r\\n      <path fill=\\\"none\\\" stroke-linejoin=\\\"round\\\" stroke-linecap=\\\"round\\\"\\r\\n        stroke-miterlimit=\\\"4\\\" stroke-width=\\\"2.6667\\\" stroke=\\\" #ffffff\\\"\\r\\n        d=\\\"M28 28.001l-5.8-5.8\\\"></path>\\r\\n    </svg>\\r\\n\\r\\n    </label>\\r\\n\\r\\n    <div class=\\\"wrapper-btn-header\\\">\\r\\n      <button class=\\\"btn btn-header btn-active-page\\\" type=\\\"button\\\">\\r\\n        Watched\\r\\n      </button>\\r\\n      <button class=\\\"btn btn-header\\\" type=\\\"button\\\">queue</button>\\r\\n    </div>\\r\\n\\r\\n    <span class=\\\"header-notification visually-hidden\\\">Search result not successful. Enter\\r\\n      the correct movie name and try again</span>\\r\\n\\r\\n  </div>\\r\\n\\r\\n</header>\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"\\r\\n\"\n    + ((stack1 = container.invokePartial(require(\"./film-card.hbs\"),depth0,{\"name\":\"./film-card.hbs\",\"data\":data,\"indent\":\"    \",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"\\r\\n    \";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"container\\\">\\r\\n  <ul class=\\\"container-film \\\">\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":30},\"end\":{\"line\":5,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"</ul>\\r\\n</div>\";\n},\"usePartial\":true,\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<footer class=\\\"footer\\\">\\r\\n    <div class=\\\"container footer-wraper\\\">\\r\\n\\r\\n        <span class=\\\"footer-text\\\">© 2020 | All Rights Reserved |&nbsp\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n        </span>\\r\\n        <span class=\\\"students-link footer-text\\\">Developed with by <a href=\\\"\\\" class=\\\"footer-text\\\">GoIT\\r\\n                Students</a></span>\\r\\n\\r\\n    </div>\\r\\n</footer>\";\n},\"useData\":true});"],"sourceRoot":""}